[tox]
minversion = 1.8
envlist = py{27,34,35,36,37,38}-{native,libs,sa10,sa11,sa12,sa13}

[testenv]
deps =
    coverage
    libs: demjson
    ecdsa
    enum34; python_version=="2.7"
    feedparser
    jsonlib; python_version=="2.7"
    numpy
    pandas
    pymongo
    pytest
    pytest-cov
    libs: simplejson
    libs: ujson
    libs: yajl
    sa10: sqlalchemy>=0.9,<1.1
    sa11: sqlalchemy>=1.0,<1.2
    sa12: sqlalchemy>=1.1,<1.3
    sa13: sqlalchemy>=1.2,<1.4
commands =
    python -m pytest --doctest-modules tests jsonpickle {posargs}

[testenv:flake8]
deps = flake8
commands = flake8 jsonpickle tests

[flake8]
max-line-length = 80
exclude = .tox,docs,thirdparty*,env*,build,dist
filename = *.py
